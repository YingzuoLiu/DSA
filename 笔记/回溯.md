# ğŸ§  å›æº¯é¢˜å‹å›¾è°±ä¸æ¨¡æ¿åˆé›†

---

## ğŸ“Œ é€šç”¨å›æº¯æ¨¡æ¿

```python
def backtrack(çŠ¶æ€å‚æ•°):
    if æ»¡è¶³ç»“æŸæ¡ä»¶:
        ä¿å­˜ç»“æœ
        return

    for é€‰æ‹© in å½“å‰æ‰€æœ‰å¯é€‰é¡¹:
        if å‰ªææ¡ä»¶:
            continue

        åšé€‰æ‹©
        é€’å½’è¿›å…¥ä¸‹ä¸€å±‚
        æ’¤é”€é€‰æ‹©ï¼ˆå›æº¯ï¼‰
```

---

## ğŸ—‚ å›æº¯é¢˜åˆ†ç±»æ€»è§ˆè¡¨

| ç±»å‹       | æ˜¯å¦å¯é‡é€‰ | æ˜¯å¦å»é‡ | ç»“æœæ˜¯å¦æœ‰é¡ºåº | æ§åˆ¶æ‰‹æ®µ      | ç¤ºä¾‹é¢˜å· |
|------------|------------|-----------|-----------------|----------------|----------|
| **ç»„åˆ**    | âŒ / âœ…      | âœ…         | âŒ              | `start` + æ’åº  | 39, 40, 77 |
| **æ’åˆ—**    | âŒ          | âœ…         | âœ…              | `used[]`        | 46, 47    |
| **å­é›†**    | âŒ          | âœ…         | âŒ              | `start`         | 78, 90    |
| **åˆ’åˆ†**    | âŒ          | âœ…         | âœ…              | `start`ï¼ˆå­—ç¬¦ä¸²ï¼‰| 131, 93   |

---

## ğŸ“˜ é¢˜å‹å¯¹ç…§ + æ¨¡æ¿åˆé›†

### ğŸ”¹ ç»„åˆç±»ï¼ˆCombinationï¼‰ï¼šå¦‚ 39, 40, 77

#### âœ… ç»„åˆæ€»å’Œ Iï¼ˆLeetCode 39ï¼‰â€”â€”å¯é‡å¤é€‰
```python
def backtrack(start, path, total):
    if total == target:
        res.append(path[:])
        return

    for i in range(start, len(candidates)):
        if total + candidates[i] > target:
            continue
        path.append(candidates[i])
        backtrack(i, path, total + candidates[i])  # â—ï¸å¯é‡å¤é€‰ï¼Œi ä¸å˜
        path.pop()
```

#### âœ… ç»„åˆæ€»å’Œ IIï¼ˆLeetCode 40ï¼‰â€”â€”ä¸å¯é‡å¤é€‰ï¼Œæœ‰é‡å¤å…ƒç´ 
```python
def backtrack(start, path, total):
    if total == target:
        res.append(path[:])
        return

    for i in range(start, len(candidates)):
        if i > start and candidates[i] == candidates[i - 1]:
            continue  # â—ï¸åŒå±‚å»é‡
        if total + candidates[i] > target:
            break
        path.append(candidates[i])
        backtrack(i + 1, path, total + candidates[i])  # â—ï¸ä¸èƒ½é‡å¤é€‰ï¼Œi+1
        path.pop()
```

#### âœ… ç»„åˆï¼ˆLeetCode 77ï¼‰â€”â€”ä» 1~n ä¸­é€‰ k ä¸ª
```python
def backtrack(start, path):
    if len(path) == k:
        res.append(path[:])
        return

    for i in range(start, n + 1):
        path.append(i)
        backtrack(i + 1, path)
        path.pop()
```

---

### ğŸ”¹ æ’åˆ—ç±»ï¼ˆPermutationï¼‰ï¼šå¦‚ 46, 47

#### âœ… å…¨æ’åˆ—ï¼ˆLeetCode 46ï¼‰
```python
def backtrack(path):
    if len(path) == len(nums):
        res.append(path[:])
        return

    for i in range(len(nums)):
        if used[i]:
            continue
        used[i] = True
        path.append(nums[i])
        backtrack(path)
        path.pop()
        used[i] = False
```

#### âœ… å«é‡å¤å…ƒç´ çš„å…¨æ’åˆ—ï¼ˆLeetCode 47ï¼‰
```python
def backtrack(path):
    if len(path) == len(nums):
        res.append(path[:])
        return

    for i in range(len(nums)):
        if used[i] or (i > 0 and nums[i] == nums[i - 1] and not used[i - 1]):
            continue
        used[i] = True
        path.append(nums[i])
        backtrack(path)
        path.pop()
        used[i] = False
```

---

### ğŸ”¹ å­é›†ç±»ï¼ˆSubsetï¼‰ï¼šå¦‚ 78, 90

#### âœ… å­é›†ï¼ˆLeetCode 78ï¼‰â€”â€”æ— é‡å¤å…ƒç´ 
```python
def backtrack(start, path):
    res.append(path[:])

    for i in range(start, len(nums)):
        path.append(nums[i])
        backtrack(i + 1, path)
        path.pop()
```

#### âœ… å­é›† IIï¼ˆLeetCode 90ï¼‰â€”â€”å«é‡å¤å…ƒç´ 
```python
def backtrack(start, path):
    res.append(path[:])

    for i in range(start, len(nums)):
        if i > start and nums[i] == nums[i - 1]:
            continue  # â—ï¸åŒå±‚å»é‡
        path.append(nums[i])
        backtrack(i + 1, path)
        path.pop()
```

---

### ğŸ”¹ åˆ’åˆ†ç±»ï¼ˆPartitionï¼‰ï¼šå¦‚ 131ï¼ˆå›æ–‡ï¼‰ã€93ï¼ˆIP åœ°å€ï¼‰

#### âœ… å›æ–‡åˆ’åˆ†ï¼ˆLeetCode 131ï¼‰
```python
def backtrack(start, path):
    if start == len(s):
        res.append(path[:])
        return

    for end in range(start + 1, len(s) + 1):
        if isPalindrome(s[start:end]):
            path.append(s[start:end])
            backtrack(end, path)
            path.pop()
```

---

## ğŸ” å»é‡æŠ€å·§æ±‡æ€»

| åœºæ™¯             | æ¡ä»¶ç¤ºä¾‹                                      | è¯´æ˜                   |
|------------------|-----------------------------------------------|------------------------|
| åŒå±‚å‰ªæ         | `if i > start and nums[i] == nums[i - 1]`     | ç»„åˆã€å­é›†ä¸­å¸¸è§       |
| åŒæå‰ªæï¼ˆæ’åˆ—ï¼‰ | `if used[i] or (i > 0 and nums[i] == nums[i-1] and not used[i-1])` | æ’åˆ—ä¸­å¸¸è§            |

---

## âœ… æ€»ç»“å£è¯€

- **ç»„åˆï¼š** i+1ï¼Œå»é‡é æ’åºï¼Œä¸èƒ½é‡ç”¨
- **å¯é‡ï¼š** i ä¸å˜ï¼Œç»§ç»­é€‰åŒä¸€ä¸ªï¼ˆå¦‚ 39ï¼‰
- **æ’åˆ—ï¼š** ç”¨ `used[]` æ§åˆ¶æ˜¯å¦é€‰ï¼Œé¡ºåºé‡è¦
- **å­é›†ï¼š** æ‰€æœ‰è·¯å¾„éƒ½ä¿ç•™ï¼ˆå›æº¯å‰å…ˆ appendï¼‰
- **å»é‡ï¼š** æ’åº + `if i > start and nums[i] == nums[i-1]` è·³è¿‡åŒå±‚é‡å¤